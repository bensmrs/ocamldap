<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ldap_schemaparser (ldap.Ldap_schemaparser)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">ldap</a> &#x00BB; Ldap_schemaparser</nav><h1>Module <code>Ldap_schemaparser</code></h1><p>A library for parsing rfc2252 schemas as returned by directory servers</p></header><div class="spec module" id="module-Oid"><a href="#module-Oid" class="anchor"></a><code><span class="keyword">module</span> <a href="Oid/index.html">Oid</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-format_oid"><a href="#val-format_oid" class="anchor"></a><code><span class="keyword">val</span> format_oid : <a href="Oid/index.html#type-t">Oid.t</a> <span>&#45;&gt;</span> unit</code></dt></dl><div class="spec module" id="module-Lcstring"><a href="#module-Lcstring" class="anchor"></a><code><span class="keyword">module</span> <a href="Lcstring/index.html">Lcstring</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-format_lcstring"><a href="#val-format_lcstring" class="anchor"></a><code><span class="keyword">val</span> format_lcstring : <a href="Lcstring/index.html#type-t">Lcstring.t</a> <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec type" id="type-octype"><a href="#type-octype" class="anchor"></a><code><span class="keyword">type</span> octype</code><code> = </code><table class="variant"><tr id="type-octype.Abstract" class="anchored"><td class="def constructor"><a href="#type-octype.Abstract" class="anchor"></a><code>| </code><code><span class="constructor">Abstract</span></code></td></tr><tr id="type-octype.Structural" class="anchored"><td class="def constructor"><a href="#type-octype.Structural" class="anchor"></a><code>| </code><code><span class="constructor">Structural</span></code></td></tr><tr id="type-octype.Auxiliary" class="anchored"><td class="def constructor"><a href="#type-octype.Auxiliary" class="anchor"></a><code>| </code><code><span class="constructor">Auxiliary</span></code></td></tr></table></dt><dt class="spec type" id="type-objectclass"><a href="#type-objectclass" class="anchor"></a><code><span class="keyword">type</span> objectclass</code><code> = </code><code>{</code><table class="record"><tr id="type-objectclass.oc_name" class="anchored"><td class="def field"><a href="#type-objectclass.oc_name" class="anchor"></a><code>oc_name : <span>string list</span>;</code></td></tr><tr id="type-objectclass.oc_oid" class="anchored"><td class="def field"><a href="#type-objectclass.oc_oid" class="anchor"></a><code>oc_oid : <a href="Oid/index.html#type-t">Oid.t</a>;</code></td></tr><tr id="type-objectclass.oc_desc" class="anchored"><td class="def field"><a href="#type-objectclass.oc_desc" class="anchor"></a><code>oc_desc : string;</code></td></tr><tr id="type-objectclass.oc_obsolete" class="anchored"><td class="def field"><a href="#type-objectclass.oc_obsolete" class="anchor"></a><code>oc_obsolete : bool;</code></td></tr><tr id="type-objectclass.oc_sup" class="anchored"><td class="def field"><a href="#type-objectclass.oc_sup" class="anchor"></a><code>oc_sup : <span><a href="Lcstring/index.html#type-t">Lcstring.t</a> list</span>;</code></td></tr><tr id="type-objectclass.oc_must" class="anchored"><td class="def field"><a href="#type-objectclass.oc_must" class="anchor"></a><code>oc_must : <span><a href="Lcstring/index.html#type-t">Lcstring.t</a> list</span>;</code></td></tr><tr id="type-objectclass.oc_may" class="anchored"><td class="def field"><a href="#type-objectclass.oc_may" class="anchor"></a><code>oc_may : <span><a href="Lcstring/index.html#type-t">Lcstring.t</a> list</span>;</code></td></tr><tr id="type-objectclass.oc_type" class="anchored"><td class="def field"><a href="#type-objectclass.oc_type" class="anchor"></a><code>oc_type : <a href="index.html#type-octype">octype</a>;</code></td></tr><tr id="type-objectclass.oc_xattr" class="anchored"><td class="def field"><a href="#type-objectclass.oc_xattr" class="anchor"></a><code>oc_xattr : <span>string list</span>;</code></td></tr></table><code>}</code></dt><dd><p>The type representing an objectclass definition</p></dd></dl><dl><dt class="spec type" id="type-attribute"><a href="#type-attribute" class="anchor"></a><code><span class="keyword">type</span> attribute</code><code> = </code><code>{</code><table class="record"><tr id="type-attribute.at_name" class="anchored"><td class="def field"><a href="#type-attribute.at_name" class="anchor"></a><code>at_name : <span>string list</span>;</code></td></tr><tr id="type-attribute.at_desc" class="anchored"><td class="def field"><a href="#type-attribute.at_desc" class="anchor"></a><code>at_desc : string;</code></td></tr><tr id="type-attribute.at_oid" class="anchored"><td class="def field"><a href="#type-attribute.at_oid" class="anchor"></a><code>at_oid : <a href="Oid/index.html#type-t">Oid.t</a>;</code></td></tr><tr id="type-attribute.at_equality" class="anchored"><td class="def field"><a href="#type-attribute.at_equality" class="anchor"></a><code>at_equality : string;</code></td></tr><tr id="type-attribute.at_ordering" class="anchored"><td class="def field"><a href="#type-attribute.at_ordering" class="anchor"></a><code>at_ordering : string;</code></td></tr><tr id="type-attribute.at_substr" class="anchored"><td class="def field"><a href="#type-attribute.at_substr" class="anchor"></a><code>at_substr : <a href="Oid/index.html#type-t">Oid.t</a>;</code></td></tr><tr id="type-attribute.at_syntax" class="anchored"><td class="def field"><a href="#type-attribute.at_syntax" class="anchor"></a><code>at_syntax : <a href="Oid/index.html#type-t">Oid.t</a>;</code></td></tr><tr id="type-attribute.at_length" class="anchored"><td class="def field"><a href="#type-attribute.at_length" class="anchor"></a><code>at_length : Stdlib.Int64.t;</code></td></tr><tr id="type-attribute.at_obsolete" class="anchored"><td class="def field"><a href="#type-attribute.at_obsolete" class="anchor"></a><code>at_obsolete : bool;</code></td></tr><tr id="type-attribute.at_single_value" class="anchored"><td class="def field"><a href="#type-attribute.at_single_value" class="anchor"></a><code>at_single_value : bool;</code></td></tr><tr id="type-attribute.at_collective" class="anchored"><td class="def field"><a href="#type-attribute.at_collective" class="anchor"></a><code>at_collective : bool;</code></td></tr><tr id="type-attribute.at_no_user_modification" class="anchored"><td class="def field"><a href="#type-attribute.at_no_user_modification" class="anchor"></a><code>at_no_user_modification : bool;</code></td></tr><tr id="type-attribute.at_usage" class="anchored"><td class="def field"><a href="#type-attribute.at_usage" class="anchor"></a><code>at_usage : string;</code></td></tr><tr id="type-attribute.at_sup" class="anchored"><td class="def field"><a href="#type-attribute.at_sup" class="anchor"></a><code>at_sup : <span><a href="Lcstring/index.html#type-t">Lcstring.t</a> list</span>;</code></td></tr><tr id="type-attribute.at_xattr" class="anchored"><td class="def field"><a href="#type-attribute.at_xattr" class="anchor"></a><code>at_xattr : <span>string list</span>;</code></td></tr></table><code>}</code></dt><dd><p>The type representing an attribute definition</p></dd></dl><dl><dt class="spec type" id="type-schema"><a href="#type-schema" class="anchor"></a><code><span class="keyword">type</span> schema</code><code> = </code><code>{</code><table class="record"><tr id="type-schema.objectclasses" class="anchored"><td class="def field"><a href="#type-schema.objectclasses" class="anchor"></a><code>objectclasses : <span><span>(<a href="Lcstring/index.html#type-t">Lcstring.t</a>, <a href="index.html#type-objectclass">objectclass</a>)</span> Stdlib.Hashtbl.t</span>;</code></td></tr><tr id="type-schema.objectclasses_byoid" class="anchored"><td class="def field"><a href="#type-schema.objectclasses_byoid" class="anchor"></a><code>objectclasses_byoid : <span><span>(<a href="Oid/index.html#type-t">Oid.t</a>, <a href="index.html#type-objectclass">objectclass</a>)</span> Stdlib.Hashtbl.t</span>;</code></td></tr><tr id="type-schema.attributes" class="anchored"><td class="def field"><a href="#type-schema.attributes" class="anchor"></a><code>attributes : <span><span>(<a href="Lcstring/index.html#type-t">Lcstring.t</a>, <a href="index.html#type-attribute">attribute</a>)</span> Stdlib.Hashtbl.t</span>;</code></td></tr><tr id="type-schema.attributes_byoid" class="anchored"><td class="def field"><a href="#type-schema.attributes_byoid" class="anchor"></a><code>attributes_byoid : <span><span>(<a href="Oid/index.html#type-t">Oid.t</a>, <a href="index.html#type-attribute">attribute</a>)</span> Stdlib.Hashtbl.t</span>;</code></td></tr></table><code>}</code></dt><dd><p>The type representing the whole schema. Consists of hashtbls indexed by two useful keys. For both attributes and objectclasses there exists a hashtbl indexed by OID, and one indexed by lower case canonical name. There exist functions in Ldap_ooclient to look up attributes and objectclasses by non canonical names if that is necessary for you to do. see attrToOid, and ocToOid. They will find the oid of an attribute or objectclass given any name, not just the canonical one. Not that this is somewhat (like several orders of magnitude) slower than lookups by canonical name.</p></dd></dl><dl><dt class="spec value" id="val-schema_print_depth"><a href="#val-schema_print_depth" class="anchor"></a><code><span class="keyword">val</span> schema_print_depth : <span>int Stdlib.ref</span></code></dt><dd><p>This reference controls the dept of printing for the schema in the toplevel. The default is 10 keys from each table will be printed. OID tables are not currently printed.</p></dd></dl><dl><dt class="spec value" id="val-format_schema"><a href="#val-format_schema" class="anchor"></a><code><span class="keyword">val</span> format_schema : <a href="index.html#type-schema">schema</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>A formatter for the schema, prints the structure, and expands the hashtbls to show the keys. The number of keys printed is controled by schema_print_depth.</p></dd></dl><dl><dt class="spec exception" id="exception-Parse_error_oc"><a href="#exception-Parse_error_oc" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Parse_error_oc</span> <span class="keyword">of</span> Stdlib.Lexing.lexbuf * <a href="index.html#type-objectclass">objectclass</a> * string</code></dt><dt class="spec exception" id="exception-Parse_error_at"><a href="#exception-Parse_error_at" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Parse_error_at</span> <span class="keyword">of</span> Stdlib.Lexing.lexbuf * <a href="index.html#type-attribute">attribute</a> * string</code></dt><dt class="spec exception" id="exception-Syntax_error_oc"><a href="#exception-Syntax_error_oc" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Syntax_error_oc</span> <span class="keyword">of</span> Stdlib.Lexing.lexbuf * <a href="index.html#type-objectclass">objectclass</a> * string</code></dt><dt class="spec exception" id="exception-Syntax_error_at"><a href="#exception-Syntax_error_at" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Syntax_error_at</span> <span class="keyword">of</span> Stdlib.Lexing.lexbuf * <a href="index.html#type-attribute">attribute</a> * string</code></dt></dl><dl><dt class="spec value" id="val-readSchema"><a href="#val-readSchema" class="anchor"></a><code><span class="keyword">val</span> readSchema : <span>string list</span> <span>&#45;&gt;</span> <span>string list</span> <span>&#45;&gt;</span> <a href="index.html#type-schema">schema</a></code></dt><dd><p>readSchema attribute_list objectclass_list, parse the schema into a schema type given a list of attribute definition lines, and objectclass definition lines.</p></dd></dl></div></body></html>