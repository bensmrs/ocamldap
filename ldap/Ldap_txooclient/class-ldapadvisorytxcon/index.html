<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>ldapadvisorytxcon (ldap.Ldap_txooclient.ldapadvisorytxcon)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">ldap</a> &#x00BB; <a href="../index.html">Ldap_txooclient</a> &#x00BB; ldapadvisorytxcon</nav><h1>Class <code>Ldap_txooclient.ldapadvisorytxcon</code></h1><p>A subclass of ldapcon which implements an experimental interface to draft_zeilenga_ldap_txn. A draft standard for multi object transactions over the ldap protocol. This class can only implement advisory transactions because it must depend on the advisory locking mechanisms for the transactions to be consistant. You use this class by calling begin_txn to get a transaction id, and then associating a set of ldapentry objects with the transaction by calling associate_entry_with_txn. You are then free to modify those entries in any way you like, and when you are done, you can either call commit_txn, or rollback_txn. Commit will commit the changes of all the entries associated with the transaction to the database. For other writers which obey advisory locking the commit operation is atomic. For readers which are willing to obey advisory locking is atomic. If the commit fails, a full rollback occurrs, including all changes made to the directory. For example in a set of N entries in a transaction, if the modificiation of the nth entry fails to commit, then the modifications to all the previous entries, which have already been made in the directory, are undone. It is important to note that if advisory locking is not obeyed, rollback may not be successful. Rollback undoes all the changes you've made in memory, and unlocks all the objects in the transaction. After a transaction object has been commited or rolled back it is considered &quot;dead&quot;, and cannot be used again.</p></header><dl><dt class="spec method" id="method-add"><a href="#method-add" class="anchor"></a><code><span class="keyword">method</span> add : <a href="../../Ldap_ooclient/class-ldapentry/index.html">Ldap_ooclient.ldapentry</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec method" id="method-bind"><a href="#method-bind" class="anchor"></a><code><span class="keyword">method</span> bind : <span>?&#8288;cred:string</span> <span>&#45;&gt;</span> <span>?&#8288;meth:<a href="../../Ldap_funclient/index.html#type-authmethod">Ldap_funclient.authmethod</a></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec method" id="method-delete"><a href="#method-delete" class="anchor"></a><code><span class="keyword">method</span> delete : string <span>&#45;&gt;</span> unit</code></dt><dt class="spec method" id="method-modify"><a href="#method-modify" class="anchor"></a><code><span class="keyword">method</span> modify : string <span>&#45;&gt;</span> <span><span>(<a href="../../Ldap_types/index.html#type-modify_optype">Ldap_types.modify_optype</a> * string * <span>string list</span>)</span> list</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec method" id="method-modrdn"><a href="#method-modrdn" class="anchor"></a><code><span class="keyword">method</span> modrdn : string <span>&#45;&gt;</span> <span>?&#8288;deleteoldrdn:bool</span> <span>&#45;&gt;</span> <span>?&#8288;newsup:<span>string option</span></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec method" id="method-rawschema"><a href="#method-rawschema" class="anchor"></a><code><span class="keyword">method</span> rawschema : <a href="../../Ldap_ooclient/class-ldapentry/index.html">Ldap_ooclient.ldapentry</a></code></dt><dt class="spec method" id="method-schema"><a href="#method-schema" class="anchor"></a><code><span class="keyword">method</span> schema : <a href="../../Ldap_schemaparser/index.html#type-schema">Ldap_schemaparser.schema</a></code></dt><dt class="spec method" id="method-search"><a href="#method-search" class="anchor"></a><code><span class="keyword">method</span> search : <span>?&#8288;scope:<a href="../../Ldap_types/index.html#type-search_scope">Ldap_types.search_scope</a></span> <span>&#45;&gt;</span> <span>?&#8288;attrs:<span>string list</span></span> <span>&#45;&gt;</span> <span>?&#8288;attrsonly:bool</span> <span>&#45;&gt;</span> <span>?&#8288;base:string</span> <span>&#45;&gt;</span> <span>?&#8288;sizelimit:Stdlib.Int32.t</span> <span>&#45;&gt;</span> <span>?&#8288;timelimit:Stdlib.Int32.t</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><a href="../../Ldap_ooclient/class-ldapentry/index.html">Ldap_ooclient.ldapentry</a> list</span></code></dt><dt class="spec method" id="method-search_a"><a href="#method-search_a" class="anchor"></a><code><span class="keyword">method</span> search_a : <span>?&#8288;scope:<a href="../../Ldap_types/index.html#type-search_scope">Ldap_types.search_scope</a></span> <span>&#45;&gt;</span> <span>?&#8288;attrs:<span>string list</span></span> <span>&#45;&gt;</span> <span>?&#8288;attrsonly:bool</span> <span>&#45;&gt;</span> <span>?&#8288;base:string</span> <span>&#45;&gt;</span> <span>?&#8288;sizelimit:Stdlib.Int32.t</span> <span>&#45;&gt;</span> <span>?&#8288;timelimit:Stdlib.Int32.t</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>?&#8288;abandon:bool</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="../../Ldap_ooclient/class-ldapentry/index.html">Ldap_ooclient.ldapentry</a></code></dt><dt class="spec method" id="method-unbind"><a href="#method-unbind" class="anchor"></a><code><span class="keyword">method</span> unbind : unit</code></dt><dt class="spec method" id="method-update_entry"><a href="#method-update_entry" class="anchor"></a><code><span class="keyword">method</span> update_entry : <a href="../../Ldap_ooclient/class-ldapentry/index.html">Ldap_ooclient.ldapentry</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec method" id="method-begin_txn"><a href="#method-begin_txn" class="anchor"></a><code><span class="keyword">method</span> begin_txn : <a href="../index.html#type-txn">txn</a></code></dt><dt class="spec method" id="method-associate_entry"><a href="#method-associate_entry" class="anchor"></a><code><span class="keyword">method</span> associate_entry : <a href="../index.html#type-txn">txn</a> <span>&#45;&gt;</span> <a href="../../Ldap_ooclient/class-type-ldapentry_t/index.html">Ldap_ooclient.ldapentry_t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec method" id="method-associate_entries"><a href="#method-associate_entries" class="anchor"></a><code><span class="keyword">method</span> associate_entries : <a href="../index.html#type-txn">txn</a> <span>&#45;&gt;</span> <span><a href="../../Ldap_ooclient/class-type-ldapentry_t/index.html">Ldap_ooclient.ldapentry_t</a> list</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec method" id="method-disassociate_entry"><a href="#method-disassociate_entry" class="anchor"></a><code><span class="keyword">method</span> disassociate_entry : <a href="../index.html#type-txn">txn</a> <span>&#45;&gt;</span> <a href="../../Ldap_ooclient/class-type-ldapentry_t/index.html">Ldap_ooclient.ldapentry_t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec method" id="method-disassociate_entries"><a href="#method-disassociate_entries" class="anchor"></a><code><span class="keyword">method</span> disassociate_entries : <a href="../index.html#type-txn">txn</a> <span>&#45;&gt;</span> <span><a href="../../Ldap_ooclient/class-type-ldapentry_t/index.html">Ldap_ooclient.ldapentry_t</a> list</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec method" id="method-commit_txn"><a href="#method-commit_txn" class="anchor"></a><code><span class="keyword">method</span> commit_txn : <a href="../index.html#type-txn">txn</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec method" id="method-rollback_txn"><a href="#method-rollback_txn" class="anchor"></a><code><span class="keyword">method</span> rollback_txn : <a href="../index.html#type-txn">txn</a> <span>&#45;&gt;</span> unit</code></dt></dl></div></body></html>